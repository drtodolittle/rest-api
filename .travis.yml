language: java

jdk:
- oraclejdk8
services:
- docker
after_success:
- docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
- export REPO=drtodolittle/rest-api
- export TAG=1.0.0-SNAPSHOT
- docker build -f docker/Dockerfile -t $REPO:latest docker
- docker tag $REPO:latest $REPO:$TAG
- docker tag $REPO:latest $REPO:latest
- docker push $REPO
env:
  global:
  - secure: rRnKcs5+Sh7YKOHbw4L8+G34qeU4PIerTSldM0OXhRvndQLG6uUNEU11RL6/W8qoQGh6X7xKFkHatHeP6boYxcfwZiIBji6gKY5w6mdQXH683t2EGn9V8U909fuq26MbgYLLHo7IZnVSKqOWQx7j7HI23k5rzVLKa/FvpynBFHLYOSIUEGgK6TAjW/12ustiZml6MJJUeJpuEclcfRpBjuaAQDcRXFUA3UQJWL/6tIyeqyLRhzIs/7R55CzAid4mCysR2YAlqz6FhM41lbxx8M9/3MFIZN6jZH2E1E3Bu+nCu6OZOCEH/ATug6gzffLIMsQbpS3lEuk0ccDpNbwwvNxQ6iFVjSHhovoXJFmR8CSE14INojp/toFTbbn12v+o10ledKDE9tBc2OBuPp0VX86wH3SiE2EotPTk/JRpW5KqvQYj+dI6qPLbwvDBBSxExPXTHGBApZT/HqtL6wVzeQPfInK6JpweETEDmMg4rO2VNjIxksaJYkr2V8zz2LJ/H+KnMhmOwyHqG8G+qzyVzVTBDZwifccfXN08r/mkV71Z6nx/i0Iz0QdmAbro+7njz1V9W35fX0agtPbxw1MYJoBWvOYpijpxLPCsJcn3qQaIpzsYh8XS4quyOorizEc2r0aTW21gIgyeMVLm17Hp76SLrlFilw4idenNNtkVRoI=
  - secure: kmGMLfUBC6T9ipY2DUv2jMzGN+aR7RlZigOV5S49EFV/Ngp13kjdnwEFFRIwZovbvl40O2sDHtt6PzmMpZ3UTjOXLL1LpnhuLfsLF32Q2JgaRz+M5KrumZHCYZ8w/5QoNYU6DOlBNw1c1tQ3p0M+G2xK0cQH8WgxfB6Ux95xQUeCtgyDIS7nnzjL0LCsJOV6tz8OzeeKv67yNIsQZ2i7u45oJwlUkllQYTVcpgFK0KSHPN2NQ3apOKFREc5+eGjrD3tgnctVU1evzAlbjAVux4cb2BL+RKCTcxEBUQpNg0CSqNp/0fYvmn8URSgRZfzjo6Uy5iLPoQy0Z8fyDnakT0Ik4ANmRaAKqpTs6wCr3Zx9IMkmmOvlJ9mb4UZmiir0QHoCNxrtTs8hRW0VBMdiGSoKrXnU4xYVS6MhOYBpoJ4N4awbi6j3P30K6HX+0dpnAMUB2sNPayhu7rwenwGwh++7LlfzxblKrWqBGxYv68neNqH5fSE78PflWsWHuWGCEdUMHYPGEhKMi25cjfjCo80BRZFO1y0gyUYp0kPptmXp++93qG6Nn7nLwPFAHdJTIdxXcgBZQh6MZNsXPRQnwmAFPJWOY6JKnmko57VUb/VmbPDaaEn6ksnwIGBXHGxbPnGaX+LoU2IENAp3WhEpPkVFxr8/xJE/SAV5ukbWk5s=
  - secure: XZH//P9Y5A15bRltHY6MsdJgX2ig4kmGEu6NDBXsUeZIyyvBb4hqEVwwBsR+BtsTvy6+nDlpbqbZjvdh1cpT/knDHSgsM/z6hSjrRFz8L3NcOwsa/IgPUtUrNa9JMDEOSjxPfB4ptvYiYaS+We4ecThRJCnrOfkf0229UACYhZ+nSfkuU3aTdxOyQ6Lcs0NyiSESww7iWmj/8fcZOY05wiirznXa+4uR8QtaoMrXlHSGjCsu4j4UXttBXYl56pilbrQWbbeaNTFOMq5CQldQLNoMjJzdQ7tJuVilURcYq7ZMejkav++3TNWBd+cqXl9GxPb/v491Fx4GS/4A4Tl6/AKnzVnw/ZkXjbUtfhquBuaa/e+7srUziw9G75XV4TDaUUq02H3d/Ks9OoFv3jpDKO25MKAyIObMz6+B5bsnTvoGUzSJC2SeEQGJQwy0ZPzVycL8TeKd912ZV6j0XM37VnY5RfnM2yVKiu+z1XGnF6OVH+ouzmdOpmspHAv3ZOr6MdNjFQVBGroJwteFMnkUhv8gn3lNA0u6suagCnLohCfxrlf/zmXdqmc+I02pSIwv+vo06eG68+FWORoJIR2GK3Cuc5wQHDj9v26ObRw8cU3hyodK2LgPcnO5MLD+lNDAqjkhausbAhd1pC8QqKmIFgWGLS5DuWyOulIbExJx/WI=
